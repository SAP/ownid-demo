!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function t(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var l=function(){return(l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function c(t,s,a,l){return new(a=a||Promise)(function(n,e){function i(t){try{o(l.next(t))}catch(t){e(t)}}function r(t){try{o(l.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?n(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(i,r)}o((l=l.apply(t,s||[])).next())})}function w(n,i){var r,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(s=2&e[0]?o.return:e[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,e[1])).done)return s;switch(o=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=i.call(n,a)}catch(t){e=[6,t],o=0}finally{r=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}function h(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||0<e--)&&!(i=o.next()).done;)s.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}var e=(n.prototype.addChild=function(t){t.appendToParent(this.parent),this.elements.push(t)},n.prototype.isMobile=function(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|android|silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[23]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(navigator.userAgent.slice(0,4))},n);function n(t){this.elements=[],this.context=null,this.nonce=null,this.parent=t.element}var r=(o.prototype.attachHandler=function(t,e){this.ref.addEventListener(t,e)},o.prototype.appendToParent=function(t){t.appendChild(this.ref)},o.prototype.destroy=function(){this.ref.parentNode.removeChild(this.ref)},o);function o(t){this.ref=this.render(t)}function a(t){return/^https?:\/\/.+/.test(t)}var s,d=(t(u,s=r),u.prototype.render=function(t){var e=this;if(!a(t.href))return console.error("URL validation failed"),document.createElement("div");document.getElementById("OwnID-styles")||this.addOwnIDStyleTag("OwnID-styles");var n=document.createElement("button");return n.type="button",n.classList.add("ownid-button"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#030303"><path d="M4.16 8.322a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776L9.108.368c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776L5.052 7.95a1.25 1.25 0 0 1-.891.371zm7.116-1.286a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776l1.662-1.657c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776l-1.675 1.67a1.24 1.24 0 0 1-.878.358zm-7.154 7.132a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776l4.242-4.23c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776l-4.242 4.23a1.23 1.23 0 0 1-.891.371zm2.9 2.877a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776l1.795-1.8c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776l-1.795 1.8c-.24.252-.56.37-.9.37zm4.708-4.695a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776l4.1-4.096c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776l-4.1 4.096c-.24.252-.56.37-.9.37zM1.25 11.2A1.25 1.25 0 0 0 2.5 9.965a1.25 1.25 0 1 0-2.5 0 1.25 1.25 0 0 0 1.25 1.246zM9.906 20a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776l5.944-5.925c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776l-5.944 5.926a1.25 1.25 0 0 1-.891.371zm8.844-8.815a1.25 1.25 0 1 0-1.25-1.246 1.25 1.25 0 0 0 1.25 1.246z"/></svg><span style="margin-left: 10px;">'+t.title+"</span>",n.addEventListener("click",function(){return e.openWindow()}),n},u.prototype.update=function(t){a(t)?this.options.href=t:console.error("URL validation failed")},u.prototype.disableButton=function(){this.disabled=!0},u.prototype.addOwnIDStyleTag=function(t){var e=document.createElement("style");e.id=t,e.innerHTML="\n.ownid-button{width:100%;min-width:288px;height:40px;display:flex;align-items:center;justify-content:center;border:none;border-radius:20px;font-style:normal;font-weight:500;font-size:14px;color:#030303;text-decoration: none; background-color: #fff;}\n",document.head.appendChild(e)},u.prototype.openWindow=function(){this.disabled||window.open(this.options.href)},u);function u(t){var e=s.call(this,t)||this;return e.options=t,e.disabled=!1,e}function f(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var y,p,g,v,b=f(function(t,e){var n=function(){function o(t,e){function s(t,e){d=function(t){for(var e=new Array(t),n=0;n<t;n+=1){e[n]=new Array(t);for(var i=0;i<t;i+=1)e[n][i]=null}return e}(u=4*a+17),n(0,0),n(u-7,0),n(0,u-7),o(),r(),h(t,e),7<=a&&f(t),null==i&&(i=w(a,l,c)),g(i,e)}var a=t,l=v[e],d=null,u=0,i=null,c=[],p={},n=function(t,e){for(var n=-1;n<=7;n+=1)if(!(t+n<=-1||u<=t+n))for(var i=-1;i<=7;i+=1)e+i<=-1||u<=e+i||(d[t+n][e+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},r=function(){for(var t=8;t<u-8;t+=1)null==d[t][6]&&(d[t][6]=t%2==0);for(var e=8;e<u-8;e+=1)null==d[6][e]&&(d[6][e]=e%2==0)},o=function(){for(var t=b.getPatternPosition(a),e=0;e<t.length;e+=1)for(var n=0;n<t.length;n+=1){var i=t[e],r=t[n];if(null==d[i][r])for(var o=-2;o<=2;o+=1)for(var s=-2;s<=2;s+=1)d[i+o][r+s]=-2==o||2==o||-2==s||2==s||0==o&&0==s}},f=function(t){for(var e=b.getBCHTypeNumber(a),n=0;n<18;n+=1){var i=!t&&1==(e>>n&1);d[Math.floor(n/3)][n%3+u-8-3]=i}for(n=0;n<18;n+=1){i=!t&&1==(e>>n&1);d[n%3+u-8-3][Math.floor(n/3)]=i}},h=function(t,e){for(var n=l<<3|e,i=b.getBCHTypeInfo(n),r=0;r<15;r+=1){var o=!t&&1==(i>>r&1);r<6?d[r][8]=o:r<8?d[r+1][8]=o:d[u-15+r][8]=o}for(r=0;r<15;r+=1){o=!t&&1==(i>>r&1);r<8?d[8][u-r-1]=o:r<9?d[8][15-r-1+1]=o:d[8][15-r-1]=o}d[u-8][8]=!t},g=function(t,e){for(var n=-1,i=u-1,r=7,o=0,s=b.getMaskFunction(e),a=u-1;0<a;a-=2)for(6==a&&--a;;){for(var l,c=0;c<2;c+=1){null==d[i][a-c]&&(l=!1,o<t.length&&(l=1==(t[o]>>>r&1)),s(i,a-c)&&(l=!l),d[i][a-c]=l,-1==--r&&(o+=1,r=7))}if((i+=n)<0||u<=i){i-=n,n=-n;break}}},w=function(t,e,n){for(var i=L.getRSBlocks(t,e),r=M(),o=0;o<n.length;o+=1){var s=n[o];r.put(s.getMode(),4),r.put(s.getLength(),b.getLengthInBits(s.getMode(),t)),s.write(r)}for(var a=0,o=0;o<i.length;o+=1)a+=i[o].dataCount;if(r.getLengthInBits()>8*a)throw"code length overflow. ("+r.getLengthInBits()+">"+8*a+")";for(r.getLengthInBits()+4<=8*a&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*a||(r.put(236,8),r.getLengthInBits()>=8*a));)r.put(17,8);return function(t,e){for(var n=0,i=0,r=0,o=new Array(e.length),s=new Array(e.length),a=0;a<e.length;a+=1){var l=e[a].dataCount,c=e[a].totalCount-l,i=Math.max(i,l),r=Math.max(r,c);o[a]=new Array(l);for(var d=0;d<o[a].length;d+=1)o[a][d]=255&t.getBuffer()[d+n];n+=l;var u=b.getErrorCorrectPolynomial(c),f=m(o[a],u.getLength()-1).mod(u);s[a]=new Array(u.getLength()-1);for(d=0;d<s[a].length;d+=1){var p=d+f.getLength()-s[a].length;s[a][d]=0<=p?f.getAt(p):0}}for(var h=0,d=0;d<e.length;d+=1)h+=e[d].totalCount;for(var g=new Array(h),w=0,d=0;d<i;d+=1)for(a=0;a<e.length;a+=1)d<o[a].length&&(g[w]=o[a][d],w+=1);for(d=0;d<r;d+=1)for(a=0;a<e.length;a+=1)d<s[a].length&&(g[w]=s[a][d],w+=1);return g}(r,i)};p.addData=function(t,e){var n=null;switch(e=e||"Byte"){case"Numeric":n=S(t);break;case"Alphanumeric":n=E(t);break;case"Byte":n=C(t);break;case"Kanji":n=B(t);break;default:throw"mode:"+e}c.push(n),i=null},p.isDark=function(t,e){if(t<0||u<=t||e<0||u<=e)throw t+","+e;return d[t][e]},p.getModuleCount=function(){return u},p.make=function(){if(a<1){for(var t=1;t<40;t++){for(var e=L.getRSBlocks(t,l),n=M(),i=0;i<c.length;i++){var r=c[i];n.put(r.getMode(),4),n.put(r.getLength(),b.getLengthInBits(r.getMode(),t)),r.write(n)}for(var o=0,i=0;i<e.length;i++)o+=e[i].dataCount;if(n.getLengthInBits()<=8*o)break}a=t}s(!1,function(){for(var t=0,e=0,n=0;n<8;n+=1){s(!0,n);var i=b.getLostPoint(p);(0==n||i<t)&&(t=i,e=n)}return e}())},p.createTableTag=function(t,e){t=t||2;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+(e=void 0===e?4*t:e)+"px;",n+='">',n+="<tbody>";for(var i=0;i<p.getModuleCount();i+=1){n+="<tr>";for(var r=0;r<p.getModuleCount();r+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+t+"px;",n+=" height: "+t+"px;",n+=" background-color: ",n+=p.isDark(i,r)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return n+="</tbody>",n+="</table>"},p.createSvgTag=function(t,e,n,i){var r={};"object"==typeof arguments[0]&&(t=(r=arguments[0]).cellSize,e=r.margin,n=r.alt,i=r.title),t=t||2,e=void 0===e?4*t:e,(n="string"==typeof n?{text:n}:n||{}).text=n.text||null,n.id=n.text?n.id||"qrcode-description":null,(i="string"==typeof i?{text:i}:i||{}).text=i.text||null,i.id=i.text?i.id||"qrcode-title":null;var o,s,a,l=p.getModuleCount()*t+2*e,c="",d="l"+t+",0 0,"+t+" -"+t+",0 0,-"+t+"z ";for(c+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',c+=r.scalable?"":' width="'+l+'px" height="'+l+'px"',c+=' viewBox="0 0 '+l+" "+l+'" ',c+=' preserveAspectRatio="xMinYMin meet"',c+=i.text||n.text?' role="img" aria-labelledby="'+y([i.id,n.id].join(" ").trim())+'"':"",c+=">",c+=i.text?'<title id="'+y(i.id)+'">'+y(i.text)+"</title>":"",c+=n.text?'<description id="'+y(n.id)+'">'+y(n.text)+"</description>":"",c+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',c+='<path d="',s=0;s<p.getModuleCount();s+=1)for(a=s*t+e,o=0;o<p.getModuleCount();o+=1)p.isDark(s,o)&&(c+="M"+(o*t+e)+","+a+d);return c+='" stroke="transparent" fill="black"/>',c+="</svg>"},p.createDataURL=function(r,t){r=r||2,t=void 0===t?4*r:t;var e=p.getModuleCount()*r+2*t,o=t,s=e-t;return I(e,e,function(t,e){if(o<=t&&t<s&&o<=e&&e<s){var n=Math.floor((t-o)/r),i=Math.floor((e-o)/r);return p.isDark(i,n)?0:1}return 1})},p.createImgTag=function(t,e,n){t=t||2,e=void 0===e?4*t:e;var i=p.getModuleCount()*t+2*e,r="";return r+="<img",r+=' src="',r+=p.createDataURL(t,e),r+='"',r+=' width="',r+=i,r+='"',r+=' height="',r+=i,r+='"',n&&(r+=' alt="',r+=y(n),r+='"'),r+="/>"};var y=function(t){for(var e="",n=0;n<t.length;n+=1){var i=t.charAt(n);switch(i){case"<":e+="&lt;";break;case">":e+="&gt;";break;case"&":e+="&amp;";break;case'"':e+="&quot;";break;default:e+=i}}return e};return p.createASCII=function(t,e){if((t=t||1)<2)return function(t){t=void 0===t?2:t;for(var e,n,i,r,o=+p.getModuleCount()+2*t,s=t,a=o-t,l={"██":"█","█ ":"▀"," █":"▄","  ":" "},c={"██":"▀","█ ":"▀"," █":" ","  ":" "},d="",u=0;u<o;u+=2){for(n=Math.floor(u-s),i=Math.floor(u+1-s),e=0;e<o;e+=1)r="█",s<=e&&e<a&&s<=u&&u<a&&p.isDark(n,Math.floor(e-s))&&(r=" "),s<=e&&e<a&&s<=u+1&&u+1<a&&p.isDark(i,Math.floor(e-s))?r+=" ":r+="█",d+=t<1&&a<=u+1?c[r]:l[r];d+="\n"}return o%2&&0<t?d.substring(0,d.length-o-1)+Array(1+o).join("▀"):d.substring(0,d.length-1)}(e);--t,e=void 0===e?2*t:e;for(var n,i,r,o=p.getModuleCount()*t+2*e,s=e,a=o-e,l=Array(t+1).join("██"),c=Array(t+1).join("  "),d="",u="",f=0;f<o;f+=1){for(i=Math.floor((f-s)/t),u="",n=0;n<o;n+=1)r=1,s<=n&&n<a&&s<=f&&f<a&&p.isDark(i,Math.floor((n-s)/t))&&(r=0),u+=r?l:c;for(i=0;i<t;i+=1)d+=u+"\n"}return d.substring(0,d.length-1)},p.renderTo2dContext=function(t,e){e=e||2;for(var n=p.getModuleCount(),i=0;i<n;i++)for(var r=0;r<n;r++)t.fillStyle=p.isDark(i,r)?"black":"white",t.fillRect(i*e,r*e,e,e)},p}o.stringToBytes=(o.stringToBytesFuncs={default:function(t){for(var e=[],n=0;n<t.length;n+=1){var i=t.charCodeAt(n);e.push(255&i)}return e}}).default,o.createStringToBytes=function(a,l){var o=function(){for(var e=D(a),t=function(){var t=e.read();if(-1==t)throw"eof";return t},n=0,i={};;){var r=e.read();if(-1==r)break;var o=t(),s=t()<<8|t();i[String.fromCharCode(r<<8|o)]=s,n+=1}if(n!=l)throw n+" != "+l;return i}(),s="?".charCodeAt(0);return function(t){for(var e=[],n=0;n<t.length;n+=1){var i,r=t.charCodeAt(n);r<128?e.push(r):"number"==typeof(i=o[t.charAt(n)])?(255&i)==i?e.push(i):(e.push(i>>>8),e.push(255&i)):e.push(s)}return e}};var e,t,s=1,a=2,r=4,l=8,v={L:1,M:0,Q:3,H:2},n=0,i=1,c=2,d=3,u=4,f=5,p=6,h=7,b=(e=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],(t={}).getBCHTypeInfo=function(t){for(var e=t<<10;0<=g(e)-g(1335);)e^=1335<<g(e)-g(1335);return 21522^(t<<10|e)},t.getBCHTypeNumber=function(t){for(var e=t<<12;0<=g(e)-g(7973);)e^=7973<<g(e)-g(7973);return t<<12|e},t.getPatternPosition=function(t){return e[t-1]},t.getMaskFunction=function(t){switch(t){case n:return function(t,e){return(t+e)%2==0};case i:return function(t,e){return t%2==0};case c:return function(t,e){return e%3==0};case d:return function(t,e){return(t+e)%3==0};case u:return function(t,e){return(Math.floor(t/2)+Math.floor(e/3))%2==0};case f:return function(t,e){return t*e%2+t*e%3==0};case p:return function(t,e){return(t*e%2+t*e%3)%2==0};case h:return function(t,e){return(t*e%3+(t+e)%2)%2==0};default:throw"bad maskPattern:"+t}},t.getErrorCorrectPolynomial=function(t){for(var e=m([1],0),n=0;n<t;n+=1)e=e.multiply(m([1,w.gexp(n)],0));return e},t.getLengthInBits=function(t,e){if(1<=e&&e<10)switch(t){case s:return 10;case a:return 9;case r:case l:return 8;default:throw"mode:"+t}else if(e<27)switch(t){case s:return 12;case a:return 11;case r:return 16;case l:return 10;default:throw"mode:"+t}else{if(!(e<41))throw"type:"+e;switch(t){case s:return 14;case a:return 13;case r:return 16;case l:return 12;default:throw"mode:"+t}}},t.getLostPoint=function(t){for(var e=t.getModuleCount(),n=0,i=0;i<e;i+=1)for(var r=0;r<e;r+=1){for(var o=0,s=t.isDark(i,r),a=-1;a<=1;a+=1)if(!(i+a<0||e<=i+a))for(var l=-1;l<=1;l+=1)r+l<0||e<=r+l||0==a&&0==l||s==t.isDark(i+a,r+l)&&(o+=1);5<o&&(n+=3+o-5)}for(i=0;i<e-1;i+=1)for(r=0;r<e-1;r+=1){var c=0;t.isDark(i,r)&&(c+=1),t.isDark(i+1,r)&&(c+=1),t.isDark(i,r+1)&&(c+=1),t.isDark(i+1,r+1)&&(c+=1),0!=c&&4!=c||(n+=3)}for(i=0;i<e;i+=1)for(r=0;r<e-6;r+=1)t.isDark(i,r)&&!t.isDark(i,r+1)&&t.isDark(i,r+2)&&t.isDark(i,r+3)&&t.isDark(i,r+4)&&!t.isDark(i,r+5)&&t.isDark(i,r+6)&&(n+=40);for(r=0;r<e;r+=1)for(i=0;i<e-6;i+=1)t.isDark(i,r)&&!t.isDark(i+1,r)&&t.isDark(i+2,r)&&t.isDark(i+3,r)&&t.isDark(i+4,r)&&!t.isDark(i+5,r)&&t.isDark(i+6,r)&&(n+=40);for(var d=0,r=0;r<e;r+=1)for(i=0;i<e;i+=1)t.isDark(i,r)&&(d+=1);return n+=10*(Math.abs(100*d/e/e-50)/5)},t);function g(t){for(var e=0;0!=t;)e+=1,t>>>=1;return e}var w=function(){for(var e=new Array(256),n=new Array(256),t=0;t<8;t+=1)e[t]=1<<t;for(t=8;t<256;t+=1)e[t]=e[t-4]^e[t-5]^e[t-6]^e[t-8];for(t=0;t<255;t+=1)n[e[t]]=t;var i={glog:function(t){if(t<1)throw"glog("+t+")";return n[t]},gexp:function(t){for(;t<0;)t+=255;for(;256<=t;)t-=255;return e[t]}};return i}();function m(i,r){if(void 0===i.length)throw i.length+"/"+r;var e=function(){for(var t=0;t<i.length&&0==i[t];)t+=1;for(var e=new Array(i.length-t+r),n=0;n<i.length-t;n+=1)e[n]=i[n+t];return e}(),o={getAt:function(t){return e[t]},getLength:function(){return e.length},multiply:function(t){for(var e=new Array(o.getLength()+t.getLength()-1),n=0;n<o.getLength();n+=1)for(var i=0;i<t.getLength();i+=1)e[n+i]^=w.gexp(w.glog(o.getAt(n))+w.glog(t.getAt(i)));return m(e,0)},mod:function(t){if(o.getLength()-t.getLength()<0)return o;for(var e=w.glog(o.getAt(0))-w.glog(t.getAt(0)),n=new Array(o.getLength()),i=0;i<o.getLength();i+=1)n[i]=o.getAt(i);for(i=0;i<t.getLength();i+=1)n[i]^=w.gexp(w.glog(t.getAt(i))+e);return m(n,0).mod(t)}};return o}function y(){var n=[],r={writeByte:function(t){n.push(255&t)},writeShort:function(t){r.writeByte(t),r.writeByte(t>>>8)},writeBytes:function(t,e,n){e=e||0,n=n||t.length;for(var i=0;i<n;i+=1)r.writeByte(t[i+e])},writeString:function(t){for(var e=0;e<t.length;e+=1)r.writeByte(t.charCodeAt(e))},toByteArray:function(){return n},toString:function(){var t="";t+="[";for(var e=0;e<n.length;e+=1)0<e&&(t+=","),t+=n[e];return t+="]"}};return r}function x(){function n(t){s+=String.fromCharCode(e(63&t))}var i=0,r=0,o=0,s="",t={},e=function(t){if(!(t<0)){if(t<26)return 65+t;if(t<52)return t-26+97;if(t<62)return t-52+48;if(62==t)return 43;if(63==t)return 47}throw"n:"+t};return t.writeByte=function(t){for(i=i<<8|255&t,r+=8,o+=1;6<=r;)n(i>>>r-6),r-=6},t.flush=function(){if(0<r&&(n(i<<6-r),r=i=0),o%3!=0)for(var t=3-o%3,e=0;e<t;e+=1)s+="="},t.toString=function(){return s},t}function k(t,e){var i=t,r=e,h=new Array(t*e),n={setPixel:function(t,e,n){h[e*i+t]=n},write:function(t){t.writeString("GIF87a"),t.writeShort(i),t.writeShort(r),t.writeByte(128),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(255),t.writeByte(255),t.writeByte(255),t.writeString(","),t.writeShort(0),t.writeShort(0),t.writeShort(i),t.writeShort(r),t.writeByte(0);var e=o(2);t.writeByte(2);for(var n=0;255<e.length-n;)t.writeByte(255),t.writeBytes(e,n,255),n+=255;t.writeByte(e.length-n),t.writeBytes(e,n,e.length-n),t.writeByte(0),t.writeString(";")}},o=function(t){for(var e=1<<t,n=1+(1<<t),i=t+1,r=g(),o=0;o<e;o+=1)r.add(String.fromCharCode(o));r.add(String.fromCharCode(e)),r.add(String.fromCharCode(n));var s,a,l,c=y(),d=(s=c,l=a=0,{write:function(t,e){if(t>>>e!=0)throw"length over";for(;8<=a+e;)s.writeByte(255&(t<<a|l)),e-=8-a,t>>>=8-a,a=l=0;l|=t<<a,a+=e},flush:function(){0<a&&s.writeByte(l)}});d.write(e,i);var u=0,f=String.fromCharCode(h[u]);for(u+=1;u<h.length;){var p=String.fromCharCode(h[u]);u+=1,r.contains(f+p)?f+=p:(d.write(r.indexOf(f),i),r.size()<4095&&(r.size()==1<<i&&(i+=1),r.add(f+p)),f=p)}return d.write(r.indexOf(f),i),d.write(n,i),d.flush(),c.toByteArray()},g=function(){var e={},n=0,i={add:function(t){if(i.contains(t))throw"dup key:"+t;e[t]=n,n+=1},size:function(){return n},indexOf:function(t){return e[t]},contains:function(t){return void 0!==e[t]}};return i};return n}var T,A,L=(T=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],(A={}).getRSBlocks=function(t,e){var n=function(t,e){switch(e){case v.L:return T[4*(t-1)+0];case v.M:return T[4*(t-1)+1];case v.Q:return T[4*(t-1)+2];case v.H:return T[4*(t-1)+3];default:return}}(t,e);if(void 0===n)throw"bad rs block @ typeNumber:"+t+"/errorCorrectionLevel:"+e;for(var i,r,o=n.length/3,s=[],a=0;a<o;a+=1)for(var l=n[3*a+0],c=n[3*a+1],d=n[3*a+2],u=0;u<l;u+=1)s.push((i=d,r=void 0,(r={}).totalCount=c,r.dataCount=i,r));return s},A),M=function(){var n=[],i=0,r={getBuffer:function(){return n},getAt:function(t){var e=Math.floor(t/8);return 1==(n[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n+=1)r.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return i},putBit:function(t){var e=Math.floor(i/8);n.length<=e&&n.push(0),t&&(n[e]|=128>>>i%8),i+=1}};return r},S=function(t){var e=s,i=t,n={getMode:function(){return e},getLength:function(t){return i.length},write:function(t){for(var e=i,n=0;n+2<e.length;)t.put(r(e.substring(n,n+3)),10),n+=3;n<e.length&&(e.length-n==1?t.put(r(e.substring(n,n+1)),4):e.length-n==2&&t.put(r(e.substring(n,n+2)),7))}},r=function(t){for(var e=0,n=0;n<t.length;n+=1)e=10*e+o(t.charAt(n));return e},o=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+t};return n},E=function(t){var e=a,i=t,n={getMode:function(){return e},getLength:function(t){return i.length},write:function(t){for(var e=i,n=0;n+1<e.length;)t.put(45*r(e.charAt(n))+r(e.charAt(n+1)),11),n+=2;n<e.length&&t.put(r(e.charAt(n)),6)}},r=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);if("A"<=t&&t<="Z")return t.charCodeAt(0)-"A".charCodeAt(0)+10;switch(t){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+t}};return n},C=function(t){var e=r,n=o.stringToBytes(t),i={getMode:function(){return e},getLength:function(t){return n.length},write:function(t){for(var e=0;e<n.length;e+=1)t.put(n[e],8)}};return i},B=function(t){var e=l,n=o.stringToBytesFuncs.SJIS;if(!n)throw"sjis not supported.";!function(){var t=n("友");if(2!=t.length||38726!=(t[0]<<8|t[1]))throw"sjis not supported."}();var r=n(t),i={getMode:function(){return e},getLength:function(t){return~~(r.length/2)},write:function(t){for(var e=r,n=0;n+1<e.length;){var i=(255&e[n])<<8|255&e[n+1];if(33088<=i&&i<=40956)i-=33088;else{if(!(57408<=i&&i<=60351))throw"illegal char at "+(n+1)+"/"+i;i-=49472}i=192*(i>>>8&255)+(255&i),t.put(i,13),n+=2}if(n<e.length)throw"illegal char at "+(n+1)}};return i},D=function(t){var n=t,i=0,r=0,o=0,e={read:function(){for(;o<8;){if(i>=n.length){if(0==o)return-1;throw"unexpected end of file./"+o}var t=n.charAt(i);if(i+=1,"="==t)return o=0,-1;t.match(/^\s$/)||(r=r<<6|s(t.charCodeAt(0)),o+=6)}var e=r>>>o-8&255;return o-=8,e}},s=function(t){if(65<=t&&t<=90)return t-65;if(97<=t&&t<=122)return t-97+26;if(48<=t&&t<=57)return t-48+52;if(43==t)return 62;if(47==t)return 63;throw"c:"+t};return e},I=function(t,e,n){for(var i=k(t,e),r=0;r<e;r+=1)for(var o=0;o<t;o+=1)i.setPixel(o,r,n(o,r));var s=y();i.write(s);for(var a=x(),l=s.toByteArray(),c=0;c<l.length;c+=1)a.writeByte(l[c]);return a.flush(),"data:image/gif;base64,"+a};return o}();n.stringToBytesFuncs["UTF-8"]=function(t){return function(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e.push(i):i<2048?e.push(192|i>>6,128|63&i):i<55296||57344<=i?e.push(224|i>>12,128|i>>6&63,128|63&i):(n++,i=65536+((1023&i)<<10|1023&t.charCodeAt(n)),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return e}(t)},t.exports=n});(p=y=y||{}).Register="register",p.Login="login",p.Link="link",p.Recover="recover",(v=g=g||{}).en="en",v.enGB="en-GB",v.enUS="en-US",v.ru="ru",v.es="es";var m,x={login:{mobileTitle:"Instant Log In",desktopTitle:"Use instant log in",desktopSubtitle:"Scan the QR code to login.",pendingMessage:"Logging in...",pendingButton:"Cancel",doneMessage:""},"login-partial":{mobileTitle:"Instant Log In",desktopTitle:"Use instant log in",desktopSubtitle:"Scan the QR code to login.",pendingMessage:"Logging in...",pendingButton:"Cancel",doneMessage:""},register:{mobileTitle:"Register without a password",desktopTitle:"Register on mobile",desktopSubtitle:"Skip the password by scanning this QR with your phone’s camera or an app.",pendingMessage:"Finish registering on your phone",pendingButton:"Cancel",doneMessage:""},"register-partial":{mobileTitle:"Register without a password",desktopTitle:"Scan this QR with your phone instead of using a password.",desktopSubtitle:"",pendingMessage:"Loading...",pendingButton:"Cancel",doneMessage:"Skip the password enabled.<br>Finish registering..."},link:{mobileTitle:"Enable Instant Login",desktopTitle:"Enable Instant Login",desktopSubtitle:"Use your phone’s camera or an app to scan the QR.",pendingMessage:"Linking your account...",pendingButton:"Cancel",doneMessage:""},recover:{mobileTitle:"Enable Instant Login",desktopTitle:"Enable instant login",desktopSubtitle:"Skip the password by scanning the QR with your phone’s camera or an app.",pendingMessage:"Linking your account...",pendingButton:"Cancel",doneMessage:""},verification:{title:"Verification Code",message:"Does the code on your device match this one?",yesButton:"Yes",noButton:"No"},errors:{qr:"You must scan QR code before you proceed",link:"You must click OwnID button before you proceed"},inline:{message:"Skip the password"},common:{labelText:"Skip the password",noteText:"The next time you login, we will recognize your phone and instantly log you in.",undo:"Undo"}},k={login:{mobileTitle:"Мгновенный вход",desktopTitle:"Мгновенный вход",desktopSubtitle:"Пропустить пароль сканируя этот QR код камерой вашего телефона или приложением.",pendingMessage:"Заходим...",pendingButton:"Отмена",doneMessage:""},"login-partial":{mobileTitle:"Мгновенный вход",desktopTitle:"Мгновенный вход",desktopSubtitle:"Пропустить пароль сканируя этот QR код камерой вашего телефона или приложением.",pendingMessage:"Заходим...",pendingButton:"Отмена",doneMessage:""},register:{mobileTitle:"Зарегистрироваться без пароля",desktopTitle:"Пропустить пароль с OwnID",desktopSubtitle:"Используйте свой телефон для сканирования и завершения регистрации без пароля.",pendingMessage:"Продолжите регистрацию на Вашем телефоне",pendingButton:"Отмена",doneMessage:""},"register-partial":{mobileTitle:"Зарегистрироваться без пароля",desktopTitle:"Отсканируйте QR код для завершения регистрации.",desktopSubtitle:"",pendingMessage:"Загрузка...",pendingButton:"Отмена",doneMessage:"Пропуск пароля подключен.<br>Завершите регистрацию..."},link:{mobileTitle:"Включить мгновенный вход",desktopTitle:"Включить мгновенный вход",desktopSubtitle:"Используйте свой телефон для сканирования и включения входа без пароля.",pendingMessage:"Связывание учетной записи...",pendingButton:"Отмена",doneMessage:""},recover:{mobileTitle:"Восстановить аккаунт без пароля",desktopTitle:"Пропустить пароль с OwnID",desktopSubtitle:"Используйте свой телефон для сканирования и завершения востановления аккаунта без пароля.",pendingMessage:"Связывание учетной записи...",pendingButton:"Отмена",doneMessage:""},verification:{title:"Код проверки",message:"Совпадает ли этот код с тем, что вы видите на экране телефоне?",yesButton:"Да",noButton:"Нет"},errors:{qr:"Для продолжения отсканируйте QR код",link:"Для продолжения нажмите клавишу OwnID"},inline:{message:"Пропустить пароль"},common:{labelText:"Пропустить пароль",noteText:"The next time you login, we will recognize your phone and instantly log you in.",undo:"Undo"}},T=(A.texts=((m={})[g.en]=x,m[g.ru]=k,m),A);function A(){}var L,M=(t(S,L=r),S.prototype.render=function(t){var e=document.createElement("div");if(!a(t.href))return console.error("URL validation failed"),e;e.classList.add("ownid-wrapper"),t.tooltip&&e.classList.add("ownid-tooltip-wrapper"),document.getElementById("OwnID-styles")||this.addOwnIDStyleTag("OwnID-styles");var n=t.title?'<div class="ownid-title">'+t.title+"</div>":"",i=t.subtitle?'<div class="ownid-subtitle">'+t.subtitle+"</div>":"",r=n&&!i?'<div class="ownid-title-spacer"></div>':"",o={message:T.texts[t.lang][t.type].pendingMessage,button:T.texts[t.lang][t.type].pendingButton},s=T.texts[t.lang][t.type].doneMessage;return e.innerHTML='\n      <div class="ownid-qr-pane">\n        <div class="ownid-qr-code">'+this.generateQRCode(t.href)+'</div>\n        <div class="ownid-qr-pane--titles">\n          '+r+"\n          <div>"+n+i+'</div>\n          <div class="ownid-qr-pane--about-wrapper"><a href="https://ownid.com/" class="ownid-qr-pane--about"><span class="ownid-qr-pane--about-text">What is this?</span><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#030303"><path d="M4.16 8.322a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776L9.108.368c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776L5.052 7.95a1.25 1.25 0 0 1-.891.371zm7.116-1.286a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776l1.662-1.657c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776l-1.675 1.67a1.24 1.24 0 0 1-.878.358zm-7.154 7.132a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776l4.242-4.23c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776l-4.242 4.23a1.23 1.23 0 0 1-.891.371zm2.9 2.877a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776l1.795-1.8c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776l-1.795 1.8c-.24.252-.56.37-.9.37zm4.708-4.695a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776l4.1-4.096c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776l-4.1 4.096c-.24.252-.56.37-.9.37zM1.25 11.2A1.25 1.25 0 0 0 2.5 9.965a1.25 1.25 0 1 0-2.5 0 1.25 1.25 0 0 0 1.25 1.246zM9.906 20a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776l5.944-5.925c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776l-5.944 5.926a1.25 1.25 0 0 1-.891.371zm8.844-8.815a1.25 1.25 0 1 0-1.25-1.246 1.25 1.25 0 0 0 1.25 1.246z"/></svg></a></div>\n        </div>\n      </div>\n      '+this.pendingTemplate(o)+'\n      <div ownid-done>\n        <div class="ownid-spacer"></div>\n        <svg class="ownid-done-icon" xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="#5dc122"><path d="M32 0A32 32 0 0 0 9.373 54.627 32 32 0 0 0 64 32c-.01-8.484-3.383-16.618-9.383-22.617A32.04 32.04 0 0 0 32 0zm0 59.43a27.43 27.43 0 0 1-19.395-46.824A27.43 27.43 0 0 1 59.429 32 27.46 27.46 0 0 1 32 59.429zm14.783-40.372L25.36 40.414l-7.592-7.568c-.213-.22-.467-.395-.748-.515a2.32 2.32 0 0 0-.9-.186 2.31 2.31 0 0 0-.893.171 2.32 2.32 0 0 0-.757.502 2.3 2.3 0 0 0-.504.755 2.29 2.29 0 0 0 .016 1.777 2.3 2.3 0 0 0 .517.746l9.222 9.192a2.31 2.31 0 0 0 3.26 0l23.054-22.98c.42-.433.652-1.014.647-1.617a2.29 2.29 0 0 0-.675-1.605 2.31 2.31 0 0 0-3.232-.028z"/></svg>\n        <div class="ownid-done-text">'+s+"</div>\n      </div>",e},S.prototype.update=function(t){a(t)?(this.ref&&!this.qrCodeWrapper&&(this.qrCodeWrapper=this.ref.querySelector(".ownid-qr-code")),this.qrCodeWrapper&&(this.qrCodeWrapper.innerHTML=this.generateQRCode(t))):console.error("URL validation failed")},S.prototype.showSecurityCheck=function(t,e,n){var i,r,o,s,a,l;this.securityCheckShown||(this.securityCheckShown=!0,i={message:T.texts[this.options.lang][this.options.type].pendingMessage,button:T.texts[this.options.lang][this.options.type].pendingButton},o=(r=T.texts[this.options.lang].verification).title,s=r.message,a=r.yesButton,l=r.noButton,this.ref.innerHTML='\n      <div class="ownid-security-check">\n        <section class="ownid-security-check--pane">\n          <section class="ownid-security-check--pane-pin">'+t+'</section>\n          <section class="ownid-security-check--pane-header">\n            <div class="ownid-security-check--pane-title">'+o+'</div>\n            <div class="ownid-security-check--pane-message">'+s+'</div>\n          </section>\n        </section>\n        <section class="ownid-actions">\n          <button ownid-btn="no">'+l+'</button>\n          <button ownid-btn="yes">'+a+"</button>\n        </section>\n      </div>\n      "+this.pendingTemplate(i),this.ref.querySelector('[ownid-btn="yes"]').addEventListener("click",function(){return e()}),this.ref.querySelector('[ownid-btn="no"]').addEventListener("click",function(){return n()}))},S.prototype.showPending=function(t){var e;void 0===t&&(t=function(){}),this.spendingShown||(this.spendingShown=!0,(e=this.ref.querySelector("[ownid-pending]")).style.display="flex",e.querySelector('[ownid-btn="cancel"]').addEventListener("click",function(){return t()}))},S.prototype.showDone=function(){var t=this.ref.querySelector("[ownid-done]");t&&(t.style.display="flex")},S.prototype.generateQRCode=function(t){var e=b(0,"L");return e.addData(t),e.make(),e.createImgTag(3,7)},S.prototype.addOwnIDStyleTag=function(t){var e=document.createElement("style");e.id=t,e.innerHTML="[ownid-btn]{min-width:72px;height:36px;background:#fff;border:1px solid #000;border-radius:20px;color:#000;cursor:pointer;outline:0;transition:background-color .2s ease-out,color .2s ease-out}[ownid-btn]:hover{color:#fff;background:#000}@-webkit-keyframes spin{17%{background:0 0;-webkit-box-shadow:none;box-shadow:none}35%{-webkit-transform:rotate(-135deg);transform:rotate(-135deg);width:5px;height:5px;background:#000;border-radius:1px;-webkit-box-shadow:0 0 2px #000;box-shadow:0 0 2px #000}53%{background:0 0;-webkit-box-shadow:none;box-shadow:none}70%{-webkit-transform:rotate(360deg);transform:rotate(360deg);width:20px;height:20px}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{17%{background:0 0;-webkit-box-shadow:none;box-shadow:none}35%{-webkit-transform:rotate(-135deg);transform:rotate(-135deg);width:5px;height:5px;background:#000;border-radius:1px;-webkit-box-shadow:0 0 2px #000;box-shadow:0 0 2px #000}53%{background:0 0;-webkit-box-shadow:none;box-shadow:none}70%{-webkit-transform:rotate(360deg);transform:rotate(360deg);width:20px;height:20px}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}\n.ownid-qr-pane{display:flex;padding:15px;background:#fff;border-radius:10px}\n.ownid-qr-code{margin-right:25px;text-align:center}\n.ownid-qr-pane--titles{display:flex;flex-direction:column;justify-content:space-between;flex:1 1 auto;}\n.ownid-title-spacer{height:25px}\n.ownid-title{font-weight:bold;font-size:20px;line-height:32px;margin-bottom:4px}\n.ownid-subtitle{font-weight:500;font-size:16px;line-height:24px}\n.ownid-qr-pane--about{text-decoration:none;display:flex;justify-content:flex-end}\n.ownid-qr-pane--about-text{font-weight:500;font-size:12px;line-height:24px;color:#ACACAC;margin-right:5px}\n.ownid-spacer{display:none}\n\n[ownid-done]{display:none;position:absolute;top:0;background:#FFF;width:100%;height:100%;justify-content:space-around;align-items:center}\n.ownid-done-icon{margin:0 48px;flex:0 0 auto}\n.ownid-done-text{font-weight:bold;font-size:14px;line-height:20px;color:#000000}\n\n.ownid-security-check{padding:15px;background:#fff;border-radius:10px}\n.ownid-security-check--pane{display:flex;justify-content:space-between}\n.ownid-security-check--pane-pin{display:flex;justify-content:center;align-items:center;flex:50% 0 0;font-size:32px;line-height:36px;text-align:center;letter-spacing:12px}\n.ownid-security-check--pane-header{font-size: 14px;line-height: 20px}\n.ownid-security-check--pane-title{font-weight: bold}\n.ownid-security-check--pane-message{margin-top: 4px}\n.ownid-actions{padding:15px;background:#fff;border-radius:10px}\n[ownid-btn]+[ownid-btn]{margin-left:16px}\n.ownid-wrapper{position:relative}\n\n[ownid-pending]{display:none;position:absolute;top:0;background:rgba(255,255,255,.95);width:100%;height:100%;flex-direction:column;justify-content:space-around;align-items:center;}\n.ownid-pending--icon{height:40px;display:flex;justify-content:center;align-items: center;}\n.ownid-pending--svg{-webkit-animation:spin 1.77s ease infinite;-moz-animation:spin 1.77s ease infinite;animation:spin 1.77s ease infinite;}\n.ownid-pending--title{font-weight:bold}\n\n.ownid-wrapper.ownid-tooltip-wrapper{position:absolute;background:#FFF;border-radius:6px;border:1px solid #D5DADD;box-shadow:0px 0px 2px rgba(131,150,168,0.16),0px 4px 8px rgba(131,150,168,0.16);transform:translateY(-50%)}\n.ownid-tooltip-wrapper:before,.ownid-tooltip-wrapper:after{content:'';position:absolute;display:block;width:0;height:0;border-style:solid;border-width:12px 10px;border-color:transparent #D5DADD transparent transparent;left:-20px;top:calc(50% - 12px)}\n.ownid-tooltip-wrapper.ownid-tooltip-wrapper-left:before,.ownid-tooltip-wrapper.ownid-tooltip-wrapper-left:after{border-color:transparent transparent transparent #D5DADD;right:-20px;top:calc(50% - 12px);left:auto}\n.ownid-tooltip-wrapper:after{border-color:transparent #FFF transparent transparent;left:-19px}\n.ownid-tooltip-wrapper.ownid-tooltip-wrapper-left:after{border-color:transparent transparent transparent #FFF;right:-19px;left:auto}\n.ownid-tooltip-wrapper .ownid-qr-pane{flex-direction:column;padding:24px 16px;width:225px}\n.ownid-tooltip-wrapper .ownid-title{font-size:14px;line-height:20px;margin:0;text-align:center;}\n.ownid-tooltip-wrapper .ownid-qr-code{margin-right:0}\n.ownid-tooltip-wrapper .ownid-title-spacer{display:none}\n.ownid-tooltip-wrapper .ownid-qr-pane--about-wrapper{display:none}\n.ownid-tooltip-wrapper .ownid-spacer{display:block}\n.ownid-tooltip-wrapper .ownid-subtitle{display:none}\n\n.ownid-tooltip-wrapper [ownid-done]{flex-direction:column}\n.ownid-tooltip-wrapper .ownid-done-text{text-align:center}\n",document.head.appendChild(e)},S.prototype.pendingTemplate=function(t){return'<div ownid-pending>\n      <div class="ownid-spacer"></div>\n      <div>\n        <div class="ownid-pending--icon">\n          <svg class="ownid-pending--svg" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="#030303"><path d="M4.16 8.322a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776L9.108.368c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776L5.052 7.95a1.25 1.25 0 0 1-.891.371zm7.116-1.286a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776l1.662-1.657c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776l-1.675 1.67a1.24 1.24 0 0 1-.878.358zm-7.154 7.132a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776l4.242-4.23c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776l-4.242 4.23a1.23 1.23 0 0 1-.891.371zm2.9 2.877a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776l1.795-1.8c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776l-1.795 1.8c-.24.252-.56.37-.9.37zm4.708-4.695a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776l4.1-4.096c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776l-4.1 4.096c-.24.252-.56.37-.9.37zM1.25 11.2A1.25 1.25 0 0 0 2.5 9.965a1.25 1.25 0 1 0-2.5 0 1.25 1.25 0 0 0 1.25 1.246zM9.906 20a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776l5.944-5.925c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776l-5.944 5.926a1.25 1.25 0 0 1-.891.371zm8.844-8.815a1.25 1.25 0 1 0-1.25-1.246 1.25 1.25 0 0 0 1.25 1.246z"></path></svg>\n        </div>\n        <div class="ownid-pending--title">'+t.message+'</div>\n      </div>\n      <button ownid-btn="cancel">'+t.button+"</button>\n    </div>"},S);function S(t){var e=L.call(this,t)||this;return e.options=t,e.qrCodeWrapper=null,e.securityCheckShown=!1,e.spendingShown=!1,e}var E,C,B=(D.URLPrefix="/ownid",D.statusUrl="/status",D.approveUrl="/:context/approve",D.statusTimeout=2e3,D.defaultLanguage=g.en,D);function D(){}(C=E=E||{})[C.Initiated=1]="Initiated",C[C.Started=2]="Started",C[C.WaitingForApproval=3]="WaitingForApproval",C[C.Approved=4]="Approved",C[C.Declined=5]="Declined",C[C.Finished=99]="Finished";var I,R=(t(O,I=r),O.prototype.render=function(t){var e=document.createElement("div");return a(t.href)?(e.style.cssText="padding: 20px;font-style: normal;font-weight: normal;font-size: 14px;line-height: 20px;color: #111D29;",e.innerHTML='You have instant login enabled by <a style="color: #0070F2; text-decoration: none" target="_blank" href="'+t.href+'">OwnID</a>.'):console.error("URL validation failed"),e},O);function O(t){return I.call(this,t)||this}var P,q=(t(z,P=r),z.prototype.render=function(t){document.getElementById("ownid-inline-widget-styles")||this.addOwnIDStyleTag("ownid-inline-widget-styles");var e=document.createElement("div"),n=T.texts[t.lang].inline.message;return e.classList.add("ownid-inline-widget"),e.innerHTML=n+'&nbsp;<svg class="ownid-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 20 20"><path d="M4.16 8.322a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776L9.108.368c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776L5.052 7.95a1.25 1.25 0 0 1-.891.371zm7.116-1.286a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776l1.662-1.657c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776l-1.675 1.67a1.24 1.24 0 0 1-.878.358zm-7.154 7.132a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776l4.242-4.23c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776l-4.242 4.23a1.23 1.23 0 0 1-.891.371zm2.9 2.877a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776l1.795-1.8c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776l-1.795 1.8c-.24.252-.56.37-.9.37zm4.708-4.695a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776l4.1-4.096c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776l-4.1 4.096c-.24.252-.56.37-.9.37zM1.25 11.2A1.25 1.25 0 0 0 2.5 9.965a1.25 1.25 0 1 0-2.5 0 1.25 1.25 0 0 0 1.25 1.246zM9.906 20a1.25 1.25 0 0 1-.891-.371c-.492-.5-.492-1.286 0-1.776l5.944-5.925c.492-.5 1.3-.5 1.782 0s.492 1.286 0 1.776l-5.944 5.926a1.25 1.25 0 0 1-.891.371zm8.844-8.815a1.25 1.25 0 1 0-1.25-1.246 1.25 1.25 0 0 0 1.25 1.246z"></path></svg>\n',t.targetElement.addEventListener("input",function(){e.style.display=""!==t.targetElement.value?"none":"flex"}),e},z.prototype.setFinishStatus=function(e){var t;this.ref.classList.toggle("ownid-inline-widget--finished",e),this.options.targetElement.classList.toggle("ownid-inline-disabled",e),null!==(t=this.options.additionalElements)&&void 0!==t&&t.forEach(function(t){return t.classList.toggle("ownid-disabled",e)})},z.prototype.addOwnIDStyleTag=function(t){var e=document.createElement("style");e.id=t,e.textContent=".ownid-inline-widget{color:#0070F2;cursor:pointer;position:absolute;display:flex;font-size:14px}\n.ownid-inline-widget .ownid-icon{fill:#0070F2}\n.ownid-inline-widget--finished{color:#354A5F;margin-left:-25px;pointer-events:none}\n.ownid-inline-widget--finished .ownid-icon{fill:#354A5F}\n.ownid-inline-widget--finished:before{content:'';width:25px;height:16px;display:block;background:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xOC43MDcgNy4yOTNhMSAxIDAgMCAxIDAgMS40MTRsLTggOGExIDEgMCAwIDEtMS40MTQgMGwtMy0zYTEgMSAwIDAgMSAxLjQxNC0xLjQxNEwxMCAxNC41ODZsNy4yOTMtNy4yOTNhMSAxIDAgMCAxIDEuNDE0IDB6IiBmaWxsPSIjMzZhNDFkIi8+PC9zdmc+) repeat center center}\n.ownid-inline-disabled{opacity:0.3;pointer-events:none}\n.ownid-note-undo{color:#0070F2;cursor:pointer}\n",document.head.appendChild(e)},z.prototype.calculatePosition=function(t,e){var n,i,r,o,s,a,l,c,d,u;"none"!==this.ref.style.display&&(i=(n=h(e.offset||[0,0],2))[0],r=n[1],s=(o=e.targetElement.getBoundingClientRect()).right,a=o.top,l=o.height,d=(c=t.getBoundingClientRect()).width,u=c.height,t.style.top=a+i+l/2-u/2+window.pageYOffset+"px",t.style.left=s+r-d+window.pageXOffset+"px")},z);function z(t){var e=P.call(this,t)||this;return e.options=t,e}var U,j=(t(F,U=e),F.prototype.init=function(t){return this.getContext(t.URLPrefix||B.URLPrefix,t.data)},F.prototype.getContext=function(i,r){return void 0===r&&(r=null),c(this,void 0,void 0,function(){var e,n;return w(this,function(t){switch(t.label){case 0:return e={type:this.config.type||y.Register,data:r,qr:!this.isMobile(),partial:!!this.config.partial||!!this.config.inline},[4,this.requestService.post(i,e)];case 1:if(!(n=t.sent()))throw new Error("No context data received");return this.cacheExpiration=n.expiration,this.contexts.push(n),[2]}})})},F.prototype.render=function(){var e=this;if(document.getElementById("OwnID-common-styles")||this.addOwnIDStyleTag("OwnID-common-styles"),this.config.type===y.Link&&function(t,e){for(var n=t.length,i=0;i<n;i++){var r=t[i];if(e.call(null,r,i,t))return r}}(this.contexts,function(t){return!t.context}))return this.linked=new R({href:this.getStartUrl()}),void this.addChild(this.linked);var t=this.config.language||B.defaultLanguage;if(this.config.inline&&this.renderInlineWidget(l({lang:t},this.config.inline)),!this.config.inline&&!this.config.toggleElement||this.config.type!==y.Register||!this.config.note&&void 0!==this.config.note||this.renderNote(t),this.isMobile()){if(this.disableMobile)return void console.warn("Mobile rendering is disabled for "+this.config.type+" widget type");var n=this.config.partial?this.config.type+"-partial":this.config.type,i=this.config.mobileTitle||T.texts[t][n].mobileTitle;this.link=new d({href:this.getStartUrl(),title:i}),this.link.attachHandler("click",function(){e.finalResponse&&e.callOnSuccess(e.finalResponse),e.setCallStatus(),clearTimeout(e.refreshLinkTimeout),e.attachPostMessagesHandler()}),this.addChild(this.link),this.returnError=T.texts[t].errors.link}else{if(this.disableDesktop)return void console.warn("Desktop rendering is disabled for "+this.config.type+" widget type");var n=this.config.partial||this.config.inline?this.config.type+"-partial":this.config.type,r=!!this.config.inline||!!this.config.partial&&[null,!1].indexOf(this.config.tooltip)<0&&!!this.config.toggleElement;this.qr=new M({href:this.getStartUrl(),title:this.config.desktopTitle||T.texts[t][n].desktopTitle,subtitle:this.config.desktopSubtitle||T.texts[t][n].desktopSubtitle,type:n,lang:t,tooltip:r}),r&&this.addCallback2GlobalEvent(function(t){"block"!==e.config.element.style.display||e.qr.ref.contains(t.target)||e.toggleQrTooltip(!1)}),this.addChild(this.qr),this.returnError=T.texts[t].errors.qr}},F.prototype.getStartUrl=function(){return this.contexts[this.contexts.length-1].url},F.prototype.getStatusUrl=function(){return""+(this.config.URLPrefix||B.URLPrefix).replace(/\/+$/,"")+B.statusUrl},F.prototype.getApproveUrl=function(t){return""+(this.config.URLPrefix||B.URLPrefix).replace(/\/+$/,"")+B.approveUrl.replace(":context",t)},F.prototype.setCallStatus=function(){var t=this;this.statusTimeout=window.setTimeout(function(){return t.callStatus()},this.config.statusInterval||B.statusTimeout)},F.prototype.callStatus=function(){var g;return c(this,void 0,void 0,function(){var e,n,i,r,o,s,a,l,c,d,u,f,p,h=this;return w(this,function(t){switch(t.label){case 0:return this.isDestroyed||this.contexts.length<=0?[2]:(e=this.contexts.map(function(t){return{context:t.context,nonce:t.nonce}}),[4,this.requestService.post(this.getStatusUrl(),e)]);case 1:if(!(n=t.sent()))return[2,this.setCallStatus()];if(i=n.map(function(t){return t.status}),0<=(r=i.indexOf(E.Finished))){if(n[r].payload.error)return this.callOnError(n[r].payload.error),[2];this.config.partial&&this.config.type===y.Register&&this.qr&&this.qr.showDone(),this.contexts=[],null!==(g=this.link)&&void 0!==g&&g.disableButton(),this.finalResponse=n[r].payload.data,this.callOnSuccess(this.finalResponse),this.apiReply(this.finalResponse)}for(0<=i.indexOf(E.Started)&&(window.clearTimeout(this.refreshLinkTimeout),this.qr&&(o=function(){return h.reCreateWidget()},this.qr.showPending(o))),0<=(s=i.indexOf(E.WaitingForApproval))&&(clearTimeout(this.refreshLinkTimeout),a=this.contexts[s],l=n[s].payload.data.pin,this.qr&&(c=function(){var t;h.sendApprove(!0,a),null!==(t=h.qr)&&void 0!==t&&t.showPending(function(){return h.reCreateWidget()})},d=function(){var t;h.sendApprove(!1,a),null!==(t=h.qr)&&void 0!==t&&t.showPending(),h.reCreateWidget()},this.qr.showSecurityCheck(l,c,d))),u=function(t){var e=f.contexts[t];(function(t,e){for(var n=t.length,i=0;i<n;i++){var r=t[i];if(e.call(null,r,i,t))return i}return-1})(n,function(t){return t.context===e.context})<0&&f.contexts.splice(t,1)},p=(f=this).contexts.length;p--;)u(p);return[2,this.setCallStatus()]}})})},F.prototype.sendApprove=function(t,e){var n=e.context,i=e.nonce;this.requestService.post(this.getApproveUrl(n),{context:n,nonce:i,approved:t})},F.prototype.setRefreshLinkOrQR=function(){var t=this;this.cacheExpiration&&(this.refreshLinkTimeout=window.setTimeout(function(){return t.refreshLinkOrQR()},this.cacheExpiration/2))},F.prototype.refreshLinkOrQR=function(){var t=this;this.init(this.config).then(function(){t.qr?t.qr.update(t.getStartUrl()):t.link&&t.link.update(t.getStartUrl()),t.setRefreshLinkOrQR()},function(t){console.error(t.message)})},F.prototype.destroy=function(){this.isDestroyed=!0,window.removeEventListener("message",this.onMessage),clearTimeout(this.statusTimeout),clearTimeout(this.refreshLinkTimeout),this.elements.forEach(function(t){return t.destroy()})},F.prototype.update=function(t){this.elements.forEach(function(t){return t.destroy()}),this.config=l(l({},this.config),t),this.render()},F.prototype.attachPostMessagesHandler=function(){this.postMessagesHandlerAttached||(this.postMessagesHandlerAttached=!0,window.addEventListener("message",this.onMessage,!1))},F.prototype.reCreateWidget=function(){var t=this;this.contexts=[],this.widgetReady=this.init(this.config).then(function(){t.destroy(),t.render(),t.setRefreshLinkOrQR(),t.isMobile()||t.setCallStatus()})},F.prototype.addInfoIcon=function(t){var i=this;t.id||(t.id="ownid-toggle-check-"+Math.random());var e=this.config.language||B.defaultLanguage,n=document.createElement("label");n.setAttribute("for",t.id),n.setAttribute("class","ownid-label ownid-toggle"),n.textContent=T.texts[e].common.labelText,t.parentNode.insertBefore(n,t.nextSibling);var r=document.createElement("span");r.setAttribute("style","margin:8px 0 0 8px;cursor:pointer;position:relative"),r.setAttribute("ownid-info-button",""),r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="#354a5f"><path d="M.333 7A6.67 6.67 0 0 1 7 .333 6.67 6.67 0 0 1 13.667 7 6.67 6.67 0 0 1 7 13.667 6.67 6.67 0 0 1 .333 7zM7 1.667C4.054 1.667 1.667 4.055 1.667 7S4.054 12.334 7 12.334 12.333 9.946 12.333 7 9.945 1.667 7 1.667zm0 3.667a1 1 0 1 0 0-2 1 1 0 1 0 0 2zm0 1.333c.368 0 .667.298.667.667V10c0 .368-.298.667-.667.667s-.667-.298-.667-.667V7.334c0-.368.298-.667.667-.667z"/></svg><div ownid-about-tooltip style="display: none;position: absolute;width: 220px;background: #FFFFFF;border: 1px solid #D5DADD;box-sizing: border-box;border-radius: 6px;font-size: 12px;line-height: 16px;padding: 16px 12px;bottom: 23px;left: -100px;cursor: default;">Access your account without a password. Your phone is your ID. Learn more at <a style="color:#0070F2;font-weight:bold;text-decoration:none" href="https://ownid.com">OwnID.com</a></div>';var o=r.querySelector("[ownid-about-tooltip]");this.addCallback2GlobalEvent(function(t){"block"!==o.style.display||r.contains(t.target)||(o.style.display="none")}),r.querySelector("svg").addEventListener("click",function(){o.style.display="block"===o.style.display?"none":"block"}),n.parentNode.insertBefore(r,n.nextSibling),this.toggleElements=document.querySelectorAll(t.getAttribute("ownid-toggle-rel")),t.addEventListener("change",function(t){var e,n=t.target;n.checked?i.finalResponse||i.isMobile()?(null!==(e=i.toggleElements)&&void 0!==e&&e.forEach(function(t){return t.classList.add("ownid-disabled")}),i.note&&(i.note.style.display="block")):(i.toggleQrTooltip(!0),n.checked=!1):(i.toggleQrTooltip(!1),i.note&&(i.note.style.display="none"),i.toggleElements.forEach(function(t){return t.classList.remove("ownid-disabled")})),i.disabled=n.checked}),this.toggleQrTooltip(!1)},F.prototype.toggleQrTooltip=function(t){var e,n,i,r,o,s,a,l,c,d,u,f,p=this;t?(setTimeout(function(){p.config.element.style.display="block"}),i=(null===(n=this.inline)||void 0===n?void 0:n.ref)||this.config.toggleElement,o=(r=h([0,0],2))[0],s=r[1],a=this.inline?"left":"right",this.config.tooltip&&"object"==typeof this.config.tooltip&&(this.config.tooltip.targetEl&&(i=document.querySelector(this.config.tooltip.targetEl)),this.config.tooltip.offset&&(o=(e=h(this.config.tooltip.offset,2))[0],s=e[1]),this.config.tooltip.position&&(a=this.config.tooltip.position)),this.qr.ref.classList.add("ownid-tooltip-wrapper-"+a),c=(l=i.getBoundingClientRect()).left,d=l.top,u=l.right,f=l.height,this.qr.ref.style.top=d+(o||f/2)+window.pageYOffset+"px","right"===a?this.qr.ref.style.left=u+s+window.pageXOffset+10+"px":this.qr.ref.style.right=window.innerWidth-c+s+window.pageXOffset+10+"px"):this.config.element.style.display="none"},F.prototype.callOnSuccess=function(t){var e,n;switch((!!this.config.inline||this.config.partial&&[null,!1].indexOf(this.config.tooltip)<0&&this.config.toggleElement)&&(this.toggleQrTooltip(!1),null!==(e=this.inline)&&void 0!==e&&e.setFinishStatus(!0),null!==(n=this.toggleElements)&&void 0!==n&&n.forEach(function(t){return t.classList.add("ownid-disabled")}),this.config.toggleElement&&(this.config.toggleElement.checked=!0),this.note&&(this.note.style.display="block")),this.disabled=!1,this.config.type){case y.Link:return this.config.onLink&&this.config.onLink(t);case y.Login:return this.config.onLogin&&this.config.onLogin(t);case y.Recover:return this.config.onRecover&&this.config.onRecover(t);case y.Register:default:return this.config.onRegister&&this.config.onRegister(t)}},F.prototype.openWebapp=function(){return c(this,void 0,void 0,function(){var e=this;return w(this,function(t){return window.open(this.getStartUrl()),this.setCallStatus(),clearTimeout(this.refreshLinkTimeout),this.attachPostMessagesHandler(),[2,new Promise(function(t){e.webappResolver=t})]})})},F.prototype.addOwnIDStyleTag=function(t){var e=document.createElement("style");e.id=t,e.innerHTML=".ownid-disabled{opacity:0;pointer-events:none;display:none}\n",document.head.appendChild(e)},F.prototype.apiReply=function(t){this.webappResolver({error:null,data:t})},F.prototype.callOnError=function(t){(!!this.config.inline||this.config.partial&&[null,!1].indexOf(this.config.tooltip)<0&&this.config.toggleElement)&&this.toggleQrTooltip(!1),this.config.onError&&this.config.onError(t)},F.prototype.renderInlineWidget=function(t){var e=this;this.inline=new q(t),this.isMobile()||this.toggleQrTooltip(!1),this.config.element.parentNode.insertBefore(this.inline.ref,this.config.element.nextSibling),this.inline.calculatePosition(this.inline.ref,t),this.elements.push(this.inline),this.inline.attachHandler("click",function(){return e.finalResponse?void e.callOnSuccess(e.finalResponse):e.isMobile()?void(e.config.type!==y.Login?(e.disabled=!1,e.inline.setFinishStatus(!0),e.note&&(e.note.style.display="block")):e.openWebapp()):e.toggleQrTooltip(!0)}),window.addEventListener("resize",function(){return e.recalculatePosition()}),window.addEventListener("scroll",function(){return e.recalculatePosition()})},F.prototype.addCallback2GlobalEvent=function(t){this.globalEventCallbacks.push(t)},F.prototype.renderNote=function(t){var e=this;this.note=document.createElement("div"),this.note.setAttribute("class","ownid-note"),this.note.style.display="none",this.note.textContent=T.texts[t].common.noteText,"string"==typeof this.config.note&&(this.note.textContent=this.config.note);var n,i=this.config.toggleElement?this.config.toggleElement.parentNode:this.config.inline.targetElement,r=!1;"object"==typeof this.config.note&&(this.note.textContent=this.config.note.text,this.config.note.wrapperElement&&(i=this.config.note.wrapperElement,r=!0)),this.config.toggleElement||(this.note.textContent+=" ",(n=document.createElement("span")).setAttribute("class","ownid-note-undo"),n.textContent=T.texts[t].common.undo,n.addEventListener("click",function(){var t;e.note.style.display="none",e.disabled=!0,null!==(t=e.inline)&&void 0!==t&&t.setFinishStatus(!1)}),this.note.appendChild(n)),r?i.appendChild(this.note):i.parentNode.insertBefore(this.note,i.nextSibling)},F.prototype.recalculatePosition=function(){var t=this.config.language||B.defaultLanguage;this.inline&&this.inline.calculatePosition(this.inline.ref,l({lang:t},this.config.inline)),"block"===this.config.element.style.display&&this.toggleQrTooltip(!0)},F);function F(t,e,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1);var r=U.call(this,t)||this;return r.config=t,r.requestService=e,r.disableDesktop=n,r.disableMobile=i,r.finalResponse=null,r.returnError=null,r.disabled=!0,r.contexts=[],r.postMessagesHandlerAttached=!1,r.isDestroyed=!1,r.webappResolver=function(){},r.note=null,r.globalEventCallbacks=[],r.onMessage=function(t){"ownid postMessages enabled"===t.data&&clearTimeout(r.statusTimeout),"ownid success"===t.data&&r.callStatus()},r.widgetReady=r.init(t).then(function(){r.render(),r.setRefreshLinkOrQR(),r.isMobile()||r.setCallStatus(),t.toggleElement&&r.addInfoIcon(t.toggleElement),r.isMobile()||!t.toggleElement&&!t.inline||document.addEventListener("click",function(e){return r.globalEventCallbacks.forEach(function(t){return t(e)})})},function(t){console.error(t.message)}),r}f(function(t,e){!function(l){var c=typeof globalThis!=="undefined"&&globalThis||typeof self!=="undefined"&&self||typeof c!=="undefined"&&c,d={searchParams:"URLSearchParams"in c,iterable:"Symbol"in c&&"iterator"in Symbol,blob:"FileReader"in c&&"Blob"in c&&function(){try{new Blob;return true}catch(t){return false}}(),formData:"FormData"in c,arrayBuffer:"ArrayBuffer"in c};function e(t){return t&&DataView.prototype.isPrototypeOf(t)}if(d.arrayBuffer){var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];var i=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1}}function r(t){if(typeof t!=="string"){t=String(t)}if(/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||t===""){throw new TypeError("Invalid character in header field name")}return t.toLowerCase()}function u(t){if(typeof t!=="string"){t=String(t)}return t}function t(e){var t={next:function(){var t=e.shift();return{done:t===undefined,value:t}}};if(d.iterable){t[Symbol.iterator]=function(){return t}}return t}function f(e){this.map={};if(e instanceof f){e.forEach(function(t,e){this.append(e,t)},this)}else if(Array.isArray(e)){e.forEach(function(t){this.append(t[0],t[1])},this)}else if(e){Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}}if(f.prototype.append=function(t,e){t=r(t);e=u(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},f.prototype["delete"]=function(t){delete this.map[r(t)]},f.prototype.get=function(t){t=r(t);return this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(r(t))},f.prototype.set=function(t,e){this.map[r(t)]=u(e)},f.prototype.forEach=function(t,e){for(var n in this.map){if(this.map.hasOwnProperty(n)){t.call(e,this.map[n],n,this)}}},f.prototype.keys=function(){var n=[];this.forEach(function(t,e){n.push(e)});return t(n)},f.prototype.values=function(){var e=[];this.forEach(function(t){e.push(t)});return t(e)},f.prototype.entries=function(){var n=[];this.forEach(function(t,e){n.push([e,t])});return t(n)},d.iterable){f.prototype[Symbol.iterator]=f.prototype.entries}function o(t){if(t.bodyUsed){return Promise.reject(new TypeError("Already read"))}t.bodyUsed=true}function s(n){return new Promise(function(t,e){n.onload=function(){t(n.result)};n.onerror=function(){e(n.error)}})}function a(t){var e=new FileReader;var n=s(e);e.readAsArrayBuffer(t);return n}function p(t){var e=new FileReader;var n=s(e);e.readAsText(t);return n}function h(t){var e=new Uint8Array(t);var n=new Array(e.length);for(var i=0;i<e.length;i++){n[i]=String.fromCharCode(e[i])}return n.join("")}function g(t){if(t.slice){return t.slice(0)}else{var e=new Uint8Array(t.byteLength);e.set(new Uint8Array(t));return e.buffer}}function w(){this.bodyUsed=false;this._initBody=function(t){this.bodyUsed=this.bodyUsed;this._bodyInit=t;if(!t){this._bodyText=""}else if(typeof t==="string"){this._bodyText=t}else if(d.blob&&Blob.prototype.isPrototypeOf(t)){this._bodyBlob=t}else if(d.formData&&FormData.prototype.isPrototypeOf(t)){this._bodyFormData=t}else if(d.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)){this._bodyText=t.toString()}else if(d.arrayBuffer&&d.blob&&e(t)){this._bodyArrayBuffer=g(t.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else if(d.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||i(t))){this._bodyArrayBuffer=g(t)}else{this._bodyText=t=Object.prototype.toString.call(t)}if(!this.headers.get("content-type")){if(typeof t==="string"){this.headers.set("content-type","text/plain;charset=UTF-8")}else if(this._bodyBlob&&this._bodyBlob.type){this.headers.set("content-type",this._bodyBlob.type)}else if(d.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)){this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")}}};if(d.blob){this.blob=function(){var t=o(this);if(t){return t}if(this._bodyBlob){return Promise.resolve(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(new Blob([this._bodyArrayBuffer]))}else if(this._bodyFormData){throw new Error("could not read FormData body as blob")}else{return Promise.resolve(new Blob([this._bodyText]))}};this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=o(this);if(t){return t}if(ArrayBuffer.isView(this._bodyArrayBuffer)){return Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength))}else{return Promise.resolve(this._bodyArrayBuffer)}}else{return this.blob().then(a)}}}this.text=function(){var t=o(this);if(t){return t}if(this._bodyBlob){return p(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(h(this._bodyArrayBuffer))}else if(this._bodyFormData){throw new Error("could not read FormData body as text")}else{return Promise.resolve(this._bodyText)}};if(d.formData){this.formData=function(){return this.text().then(m)}}this.json=function(){return this.text().then(JSON.parse)};return this}var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(t){var e=t.toUpperCase();return y.indexOf(e)>-1?e:t}function b(t,e){if(!(this instanceof b)){throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.')}e=e||{};var n=e.body;if(t instanceof b){if(t.bodyUsed){throw new TypeError("Already read")}this.url=t.url;this.credentials=t.credentials;if(!e.headers){this.headers=new f(t.headers)}this.method=t.method;this.mode=t.mode;this.signal=t.signal;if(!n&&t._bodyInit!=null){n=t._bodyInit;t.bodyUsed=true}}else{this.url=String(t)}this.credentials=e.credentials||this.credentials||"same-origin";if(e.headers||!this.headers){this.headers=new f(e.headers)}this.method=v(e.method||this.method||"GET");this.mode=e.mode||this.mode||null;this.signal=e.signal||this.signal;this.referrer=null;if((this.method==="GET"||this.method==="HEAD")&&n){throw new TypeError("Body not allowed for GET or HEAD requests")}this._initBody(n);if(this.method==="GET"||this.method==="HEAD"){if(e.cache==="no-store"||e.cache==="no-cache"){var i=/([?&])_=[^&]*/;if(i.test(this.url)){this.url=this.url.replace(i,"$1_="+(new Date).getTime())}else{var r=/\?/;this.url+=(r.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}}function m(t){var r=new FormData;t.trim().split("&").forEach(function(t){if(t){var e=t.split("=");var n=e.shift().replace(/\+/g," ");var i=e.join("=").replace(/\+/g," ");r.append(decodeURIComponent(n),decodeURIComponent(i))}});return r}function x(t){var r=new f;var e=t.replace(/\r?\n[\t ]+/g," ");e.split(/\r?\n/).forEach(function(t){var e=t.split(":");var n=e.shift().trim();if(n){var i=e.join(":").trim();r.append(n,i)}});return r}function k(t,e){if(!(this instanceof k)){throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.')}if(!e){e={}}this.type="default";this.status=e.status===undefined?200:e.status;this.ok=this.status>=200&&this.status<300;this.statusText="statusText"in e?e.statusText:"";this.headers=new f(e.headers);this.url=e.url||"";this._initBody(t)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},w.call(b.prototype),w.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},k.error=function(){var t=new k(null,{status:0,statusText:""});t.type="error";return t};var T=[301,302,303,307,308];k.redirect=function(t,e){if(T.indexOf(e)===-1){throw new RangeError("Invalid status code")}return new k(null,{status:e,headers:{location:t}})},l.DOMException=c.DOMException;try{new l.DOMException}catch(t){l.DOMException=function(t,e){this.message=t;this.name=e;var n=Error(t);this.stack=n.stack};l.DOMException.prototype=Object.create(Error.prototype);l.DOMException.prototype.constructor=l.DOMException}function A(s,a){return new Promise(function(n,t){var e=new b(s,a);if(e.signal&&e.signal.aborted){return t(new l.DOMException("Aborted","AbortError"))}var i=new XMLHttpRequest;function r(){i.abort()}i.onload=function(){var t={status:i.status,statusText:i.statusText,headers:x(i.getAllResponseHeaders()||"")};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var e="response"in i?i.response:i.responseText;setTimeout(function(){n(new k(e,t))},0)};i.onerror=function(){setTimeout(function(){t(new TypeError("Network request failed"))},0)};i.ontimeout=function(){setTimeout(function(){t(new TypeError("Network request failed"))},0)};i.onabort=function(){setTimeout(function(){t(new l.DOMException("Aborted","AbortError"))},0)};function o(e){try{return e===""&&c.location.href?c.location.href:e}catch(t){return e}}i.open(e.method,o(e.url),true);if(e.credentials==="include"){i.withCredentials=true}else if(e.credentials==="omit"){i.withCredentials=false}if("responseType"in i){if(d.blob){i.responseType="blob"}else if(d.arrayBuffer&&e.headers.get("Content-Type")&&e.headers.get("Content-Type").indexOf("application/octet-stream")!==-1){i.responseType="arraybuffer"}}if(a&&typeof a.headers==="object"&&!(a.headers instanceof f)){Object.getOwnPropertyNames(a.headers).forEach(function(t){i.setRequestHeader(t,u(a.headers[t]))})}else{e.headers.forEach(function(t,e){i.setRequestHeader(e,t)})}if(e.signal){e.signal.addEventListener("abort",r);i.onreadystatechange=function(){if(i.readyState===4){e.signal.removeEventListener("abort",r)}}}i.send(typeof e._bodyInit==="undefined"?null:e._bodyInit)})}if(A.polyfill=true,!c.fetch){c.fetch=A;c.Headers=f;c.Request=b;c.Response=k}l.Headers=f,l.Request=b,l.Response=k,l.fetch=A,Object.defineProperty(l,"__esModule",{value:true})}(e)});var _=(H.prototype.post=function(n,i){var r;return void 0===i&&(i={}),c(this,void 0,void 0,function(){var e;return w(this,function(t){switch(t.label){case 0:return null!==(r=this.logger)&&void 0!==r&&r.logInfo("request: "+n),[4,fetch(n,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(i)})];case 1:return 200===(e=t.sent()).status?[2,e.json()]:[2,null]}})})},H);function H(t){this.logger=t}var Q,N,W,G=(t(Y,Q=j),Y.prototype.init=function(o){var t=this;return new Promise(function(i,r){window.gigya.accounts.getJWT({callback:function(n){return c(t,void 0,void 0,function(){var e;return w(this,function(t){switch(t.label){case 0:return 0!==n.errorCode&&(e="Gigya.GetJWT -> "+n.errorCode+": "+n.errorMessage,console.error(e),r(new Error(e))),[4,this.getContext(o.URLPrefix||B.URLPrefix,{jwt:n.id_token})];case 1:return t.sent(),i(),[2]}})})}})})},Y);function Y(t,e){var n=Q.call(this,t,e)||this;return n.config=t,n.requestService=e,n}(W=N=N||{})[W.debug=1]="debug",W[W.info=2]="info",W[W.error=3]="error";var Z=(V.prototype.logDebug=function(t){this.logLevel>N.debug||this.externalLogger.logDebug(t)},V.prototype.logInfo=function(t){this.logLevel>N.info||this.externalLogger.logInfo(t)},V.prototype.logError=function(t){this.externalLogger.logError(t)},V);function V(t,e){this.externalLogger=t,this.logLevel=e}var J="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",X=($.prototype.init=function(t){var e;void 0===t&&(t={}),(this.config=t).logger&&(e=t.logLevel?N[t.logLevel]:N.error,this.config.logger=new Z(t.logger,e))},$.prototype.render=function(t){if(!t.element)return console.error("Parent element wasn't found on the page"),null;var e=t.type===y.Link,n=t.type===y.Register&&t.partial||!!t.inline;return new j(l(l({},this.config),t),new _(this.config.logger),e,n)},$.prototype.getOwnIDPayload=function(e){return c(this,void 0,void 0,function(){return w(this,function(t){return e.disabled?[2,Promise.resolve({error:null,data:null})]:e.finalResponse?[2,{error:null,data:e.finalResponse}]:e.returnError?[2,{error:!0,message:e.returnError}]:[2,e.openWebapp()]})})},$.prototype.generateOwnIDPassword=function(t){for(var e="",n=t;n--;)e+=J[Math.floor(Math.random()*J.length)];return e},$.prototype.renderLinkGigya=function(s,a){return c(this,void 0,void 0,function(){var r,o=this;return w(this,function(t){return s.element?(r=window.gigya,a||r?[2,new Promise(function(t){function e(){t(new G(l(l({},o.config),s),new _))}var n,i;o.isGigyaAdded||r?e():(o.isGigyaAdded=!0,n="https://cdns.gigya.com/js/gigya.js?apikey="+a,(i=document.createElement("script")).src=n,i.addEventListener("load",e),document.head.appendChild(i))})]:(console.error("Gigya apiKey should be provided"),[2,null])):(console.error("Parent element wasn't found on the page"),[2,null])})})},$);function $(){this.version="${APP_VERSION}",this.config={},this.isGigyaAdded=!1}window.ownid=window.ownid instanceof X?window.ownid:new X,window.ownidAsyncInit?window.ownidAsyncInit():console.log("OwnID sdk is loaded, ownidAsyncInit function was not found")});
//# sourceMappingURL=sdk.umd.js.map
